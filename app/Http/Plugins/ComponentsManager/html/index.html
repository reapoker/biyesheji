<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
    <meta charset="utf-8"/>
    <title>Metronic Admin Theme #1 | FixedHeader Extension</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="Preview page of Metronic Admin Theme #1 for rowreorder extension demos" name="description"/>
    <meta content="" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->

    <link href="../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet"
          type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <link href="../assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.css" rel="stylesheet"
          type="text/css"/>
    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN THEME GLOBAL STYLES -->
    <link href="../assets/global/plugins/jstree/dist/themes/default/style.min.css" rel="stylesheet" type="text/css"/>

    <link href="../assets/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css"/>
    <link href="../assets/global/css/plugins.min.css" rel="stylesheet" type="text/css"/>
    <!-- END THEME GLOBAL STYLES -->
    <!-- BEGIN THEME LAYOUT STYLES -->
    <link href="../assets/global/plugins/jstree/dist/themes/default/style.min.css" rel="stylesheet" type="text/css"/>

    <link href="../assets/layouts/layout/css/layout.min.css" rel="stylesheet" type="text/css"/>
    <link href="../assets/layouts/layout/css/themes/darkblue.min.css" rel="stylesheet" type="text/css"
          id="style_color"/>
    <link href="../assets/layouts/layout/css/custom.min.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="/css/layer.css">
</head>
<!-- END HEAD -->

<body style="background-color: white">
<div class="page-wrapper">

    <div class="clearfix"></div>
    <!-- END HEADER & CONTENT DIVIDER -->
    <!-- BEGIN CONTAINER -->
    <div class="page-container">
        <!-- BEGIN SIDEBAR -->

        <!-- END SIDEBAR -->
        <!-- BEGIN CONTENT -->
        <div class="page-content-wrapper">
            <!-- BEGIN CONTENT BODY -->
            <div class="">
                <h1></h1>
                <div class="row">
                    <div class="col-md-12">
                        <div class="portlet light bordered">
                            <div class="portlet-title">
                                <div class="caption font-dark">
                                    <i class="icon-settings font-dark"></i>
                                    <span class="caption-subject bold uppercase">组件库</span>
                                </div>
                                <div class="actions">
                                    <div class="btn-group btn-group-devided" data-toggle="buttons">
                                        <label class="btn btn-transparent  btn-outline btn-circle btn-sm active">
                                            <button id="component_render" class="btn btn-info">重新渲染所有组件</button>
                                        </label>
                                        <label class="btn btn-transparent  btn-outline btn-circle btn-sm active">
                                            <button id="component_add" class="btn btn-primary">添加</button>
                                        </label>
                                        <label class="btn btn-transparent  btn-outline btn-circle btn-sm active">
                                            <button class="btn btn-danger">删除</button>
                                        </label>
                                        <label class="btn btn-transparent  btn-outline btn-circle btn-sm active">
                                            <button class="btn ">禁用</button>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <div class="tabbable-line">
                                    <ul class="nav nav-tabs nav-tabs-lg">
                                        <li class="active">
                                            <a href="#tab_1" data-toggle="tab"> 全部组件 </a>
                                        </li>
                                        <li>
                                            <a href="#tab_2" data-toggle="tab"> 自定义组件
                                                <!-- 此处用于提示可更新模型数量 -->
                                                <!--<span class="badge badge-success">4</span>-->
                                            </a>
                                        </li>
                                    </ul>
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="tab_1">
                                            <div class="mt-element-card mt-card-round mt-element-overlay">
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                        <table class="table table-striped table-bordered table-hover table-header-fixed"
                                                               id="">
                                                            <thead>
                                                            <tr class="">
                                                                <th width="10"><input type="checkbox"></th>
                                                                <th> 名称</th>
                                                                <th> 描述</th>
                                                                <th> 所属模型 </th>
                                                                <th> 访问方式 </th>
                                                                <th> 状态</th>
                                                                <th> 操作</th>
                                                            </tr>
                                                            </thead>
                                                            <tbody class="aceberg" comp-name="component_list"  id="components">

                                                            </tbody>
                                                        </table>

                                                        <input type="hidden" id="modify_field">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="tab_2">
                                            <div class="mt-element-card mt-card-round mt-element-overlay">
                                                <div id="localmodels" class="row">
                                                    <div class="col-md-12">
                                                        <div class="portlet light bordered">

                                                            <div class="portlet-body">
                                                                <div id="tree_2" class="tree-demo"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END CONTENT BODY -->
        </div>

    </div>
</div>
<!-- BEGIN QUICK NAV -->

<!-- END QUICK NAV -->
<!--[if lt IE 9]>
<script src="../assets/global/plugins/respond.min.js"></script>
<script src="../assets/global/plugins/excanvas.min.js"></script>
<script src="../assets/global/plugins/ie8.fix.min.js"></script>
<![endif]-->
<!-- BEGIN CORE PLUGINS -->
<script src="../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="../assets/global/scripts/datatable.js" type="text/javascript"></script>
<script src="../assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
<script src="../assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js"
        type="text/javascript"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN THEME GLOBAL SCRIPTS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="../assets/global/plugins/jstree/dist/jstree.min.js" type="text/javascript"></script>
<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../assets/global/scripts/app.min.js" type="text/javascript"></script>
<!-- END THEME GLOBAL SCRIPTS -->
<script src="../assets/pages/scripts/ui-tree.min.js" type="text/javascript"></script>

<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../assets/pages/scripts/table-datatables-fixedheader.min.js" type="text/javascript"></script>
<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<script src="../assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
<script src="../assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
<script src="../assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
<script src="../assets/layouts/global/scripts/quick-nav.min.js" type="text/javascript"></script>
<script src="/js/layer.js"></script>
<!-- END THEME LAYOUT SCRIPTS -->
<script src="/js/plugins/requirejs/require.js" data-main="/js/aceberg.admin.r"></script>
<script>
    $(document).ready(function () {
        $("#component_add").on('click', function () {
            window.location.href = "/Admin/p.ComponentsManager.add";
        });
        // 监听渲染按钮
        $("#component_render").click(function () {
            component_render();
        })

    });


    var comp_modify = function (obj) {

        var model_name = $(obj).attr('model_name');
        var component_name = $(obj).attr('name');
        // 给隐藏域赋值
        $("#modify_field").attr('model_name',model_name);
        $("#modify_field").attr('component_name',component_name);
        // 打开页面
        layer.open({
            type:2,
            title: "修改"+component_name+"组件",
            shadeClose:false,
            area:['800px','1000px'],
            offset:'50px',
            content: '/Admin/p.ComponentsManager.modify',
        });
    }

    var component_render = function () {
        layer.confirm('确认重新渲染?\n重新渲染后所有组件将处于可用状态', {icon: 3, title:'提示',offset:'100px;'}, function(index){
            //do something
            window.aceberg(null,'component_render');
            layer.close(index);
            //layer.msg('重新渲染成功！', {icon: 6,offset:'100px;'});

        });
    }

    var delete_c = function (obj,name,delete_name) {
        layer.confirm('确认删除？\n删除后不可恢复，请谨慎操作！',{icon:3,title:'警告',offset:'100px;'},function (index) {
            var d_name = {};
            d_name.delete_name = delete_name;
            window.aceberg(obj,name,d_name);
            layer.close(index);
            layer.msg('已删除',{icon:6,offset:'100px;'});
           // window.location.reload();
        })
    }

</script>
</body>

</html>